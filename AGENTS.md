# **AGENTS.md**

- 3つのエージェントが作業する: Codex (you: 開発担当)、GitHub操作エージェント、レビューAI。
- 日本語のカジュアルな敬語で常に応答する

## **必ず遵守**

* **作業ディレクトリ**: **全ての実装コード（src/, tests/, scripts/, docs/, package.json, tsconfig.json, Dockerfile等）は `implementation/` フォルダ内に作成してください。** ルートディレクトリには計画書（plan/）とエージェント設定ファイルのみを配置します。
* **状態ファイルの活用**: `state.md` を読み込み、作業完了後は `state.md` の `main status` を更新してください。
* **チェックボックス形式のタスク管理**: ユーザーのプロンプトに対する応答にチェックボックス付きリストを用います。闇雲に作業することを厳禁として、自身の作業内容に対するメタ認知を高めます。
* **単一ファイル・単一作業の原則**: 一度に操作するのは1ファイルのみ、作業内容は1種類（コーディング、リファクタリング、レビューなど）に限定します。ユーザーからの明示的指示がある場合を除いて、複数ファイルや複数種類の作業をまとめて行わないでください。
* OpenAIなどの従量課金APIを伴うテストやコマンドは、自動再試行を含めて最大3回まで試し、それでも失敗する場合は即時中断してユーザーへ報告します。

## **タスクフロー**

* **1\. 状態確認**: `state.md` の `main status` を確認します。
* **2\. 作業実施**: ステータスとユーザープロンプトに応じたタスクを、単一ファイル・単一作業の原則に従って実施します。
* **3\. state.md 更新**: 作業が完了したら、`state.md` の `main status` を更新します。

## **セキュリティと環境**

* 環境変数やシークレットは `.env` ファイル等で管理し、公開しないように注意してください。  
* 外部サービスへのアクセスや API キーの設定方法を明記し、不用意なアクセスを避けます。  
* ネットワークアクセスやファイル操作など、エージェントが避けるべき行為や制限事項をこのセクションに記述します。
